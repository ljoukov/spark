Topic: BIO 2022 R1 Q2 — Game of Drones

Spark Code Lesson Brief (BIO locked problem)

You are generating a Spark Code lesson. This brief is authoritative.

Exactness rules (what “exactly” means)
- When this brief says “exactly/verbatim”, preserve the original wording and numbers from this brief.
- For inputs/outputs and tests: preserve the exact tokens and the exact spacing between them.
- Output formatting for this problem: output two lines, the red-controlled count then the blue-controlled count (no extra text).
- Do not add, remove, or reorder marking-scheme tests.

Session structure
- The session must contain exactly two coding problems: p1 (warm-up) and p2 (official BIO problem).
- p1 should teach the core techniques needed for p2 (hex grid simulation, edge ownership updates, feud tie-breaks), but MUST NOT reuse the same statement or the marking tests.
- p2 MUST be the official problem below, with the same task and constraints.

Locked requirements for problem p2 (official)
- The p2 problem statement and constraints must be taken from the OFFICIAL PROBLEM section below (verbatim).
- Examples shown to the learner for p2 must use only examples already present in this brief:
  - Prefer examples and sample runs from the OFFICIAL PROBLEM section.
  - If the schema requires exactly three examples and the OFFICIAL PROBLEM has fewer than three, fill the remaining example(s) using cases from the MARKING section (still from this brief). Do not invent new examples.
- The p2 test list must be EXACTLY the MARKING tests below (same cases, same expected outputs, same order). Do not add any other tests.
- The p2 reference solution must implement skirmishes and feuds exactly as specified.
- The p2 reference solution must be deterministic and must match the expected output formatting exactly.

--- OFFICIAL PROBLEM (verbatim) ---
Question 2: Game of Drones

Two bee colonies are fighting for control of a hive.
                                                                 1  2 3 4  5
                                                                   6 7 8 9 10
The hive is represented by a 5x5 array of hexagons, numbered as in the diagram to the
right. The six edges of each hexagon are numbered, as in the diagram below. Some 11 12 13 14 15
edges are owned by either the red colony or the blue colony. If a colony owns more
                                                                  16 17 18 19 20
edges of a hexagon than another colony, that colony controls the hexagon. Initially,
no edges are owned by either colony and hence no hexagons controlled. 21 22 23 24 25
Two drones are in the hive: a red drone on hexagon 1 facing edge 1 and a blue drone
on hexagon 25 facing edge 6. Drones jump between hexagons in numeric order,
returning to 1 after hexagon 25. Whilst jumping, drones do not change the direction 6 1
they are facing.                                        5     2
                                                             4  3
The game consists of a number of skirmishes followed by a number of feuds.
In each skirmish:
• The red drone takes ownership (for the red colony) of the edge it is facing, it then rotates 60°
  clockwise to face a new edge and finally it jumps r hexagons along the hive.
• The blue drone similarly takes ownership of the edge it is facing, it then rotates 60° anti-clockwise to
  face a new edge before finally jumping b hexagons.
For example, if r is 9 and b is 3:
• In the first skirmish, red takes ownership of edge 1 of hexagon 1 and blue takes
                                                                 R
  ownership of edge 6 of hexagon 25.                      B
• Red faces edge 2 (clockwise from 1) and jumps to hexagon 10 (1+9). Blue faces edge R
  5 (anti-clockwise from 6) and jumps to hexagon 3 (as 1 is the hexagon following 25). B
• In the second skirmish, red takes ownership of edge 2 of hexagon 10 and blue takes
  ownership of edge 5 of hexagon 3.
                                                                             R
• In the third skirmish, red takes ownership of edge 3 of hexagon 19 (which was
  previously owned by blue as that edge is shared with hexagon 25) and blue takes
  ownership of edge 4 of hexagon 6.
After the skirmishes it is time for feuding. In each feud:
• The red colony will take ownership of their preferred un-owned edge, followed by the blue colony
  doing likewise.
• When selecting an edge a colony prefers edges that gain them control over the most hexagons.
  Between edges that give them the same amount of control they prefer those that take away the most
  control from the other colony. After that, preference is based on hexagon number; lowest for the red
  colony and highest for the blue colony. After that, preference is based on direction number; lowest
  for the red colony and highest for the blue colony.
For example, continuing on from the hive after the previous skirmishes:
                                                                 R
• Red takes ownership of edge 2 in hexagon 4. Taking ownership of this edge gives red
                                                                   B    R
  control over hexagons 4 and 5. This is an edge in the lowest number hexagon that
                                                                           R
  can gain red control over two additional hexagons. It is also the lowest edge in the B
  hexagon that gains such control as edge 1 is only adjacent to a single hexagon. An
  edge in hexagon 1 cannot gain control of hexagon 1 (red already controls it) and at
                                                                      B  R
  most removes the blue control from hexagon 2 or 6; a total gain of no hexagons. An
  edge in hexagons 2 or 3 would take control away from blue and, at most, gain
  control of either hexagon 4, 7 or 8; a total gain of control of only a single hexagon.
• Blue takes ownership of edge 6 in hexagon 24, similarly taking control of two hexagons.

2(a) [ 27 marks ]
Write a program that plays the Game of Drones.

Your program should first input a line containing two integers, r (1 ≤ r ≤ 25) then b
(1 ≤ b ≤ 25), indicating the number of hexagons the red and blue drones jump by
during each of the skirmishes. This will be followed by a line containing two
integers, s (0 ≤ s ≤ 1000) then f (0 ≤ f ≤ 40), indicating the number of skirmishes and
feuds respectively.
        Marks are available for cases where there are no feuds
You should output two lines, the first containing the number of hexagons controlled
by the red colony and the second the number controlled by the blue colony.
Sample run
9 3
3 1
6
6
--- END OFFICIAL PROBLEM ---

--- MARKING (verbatim) ---
[1] 9 3 3 1 6 6
[1] 2 11 0 0 0 0
[2] 1 1 1 0 1 2
[2] 1 1 4 0 1 3
[2] 2 23 28 0 9 8
[2] 11 5 20 0 17 7
[2] 25 24 999 0 1 24
[1] 2 11 0 1 2 2
[2] 16 25 7 3 14 9
[2] 25 15 3 13 10 13
[2] 18 6 53 3 9 13
[2] 25 24 11 3 7 16
[2] 7 1 73 3 7 7
[2] 1 2 41 15 9 2
[2] 1 14 31 19 5 3
--- END MARKING ---
